#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ðŸ”„ Pre-checkout hook: Pulling latest changes and installing dependencies..."

# Get the current branch before checkout
CURRENT_BRANCH=$(git branch --show-current)
TARGET_BRANCH=$1

echo "Switching from $CURRENT_BRANCH to $TARGET_BRANCH"

# Pull latest changes from the target branch
echo "ðŸ“¥ Pulling latest changes..."
git pull origin $TARGET_BRANCH

# Install dependencies
echo "ðŸ“¦ Installing dependencies..."
pnpm install

echo "âœ… Pre-checkout hook completed successfully!"
