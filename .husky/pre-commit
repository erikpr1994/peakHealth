#!/usr/bin/env sh

echo "ğŸ” Running lint-staged..."
pnpm lint-staged

echo "ğŸ§ª Running unit and integration tests..."
pnpm test

echo "ğŸŒ Running e2e tests..."
pnpm test:e2e
E2E_EXIT_CODE=$?

if [ $E2E_EXIT_CODE -ne 0 ]; then
  echo 'âŒ E2E tests failed'
  exit $E2E_EXIT_CODE
fi

echo "ğŸ—ï¸  Running build..."
pnpm build
