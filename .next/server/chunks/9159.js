exports.id=9159,exports.ids=[9159],exports.modules={211:(a,b,c)=>{"use strict";c.d(b,{$v:()=>d.$v,u:()=>f});var d=c(59360),e=c(66572);function f(a){let{isEnabled:b,isLoading:c,flags:d}=(0,e.useFeatureFlags)(),f=()=>a.reduce((a,b)=>(a[b]=!1,a),{});return c?{flags:f(),isLoading:!0}:0===Object.keys(d).length?{flags:f(),isLoading:!1}:{flags:a.reduce((a,c)=>(a[c]=b(c),a),{}),isLoading:c}}},5924:(a,b,c)=>{"use strict";c.d(b,{SWRProvider:()=>g});var d=c(68312),e=c(95989);let f={fetcher:async a=>{let b=await fetch(a);if(!b.ok){let a=Error("An error occurred while fetching the data.");throw a.info=await b.json(),a.status=b.status,a}return b.json()},revalidateOnFocus:!1,revalidateOnReconnect:!0,dedupingInterval:2e3,errorRetryCount:3,errorRetryInterval:5e3},g=({children:a})=>(0,d.jsx)(e.BE,{value:f,children:a})},8029:()=>{},8847:(a,b,c)=>{"use strict";c.d(b,{NotificationsBell:()=>j});var d=c(68312),e=c(19537),f=c(90377),g=c(99564),h=c(75589),i=c(90214);let j=({unreadCount:a})=>{let[b,c]=(0,f.useState)(!1);return(0,d.jsxs)(i.AM,{open:b,onOpenChange:c,children:[(0,d.jsx)(i.Wv,{asChild:!0,children:(0,d.jsxs)(h.$,{variant:"ghost",size:"sm",className:"relative p-2 hover:bg-gray-100 transition-colors rounded-lg",children:[(0,d.jsx)(e.A,{className:"h-5 w-5 text-gray-600"}),a>0&&(0,d.jsx)(g.E,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs font-semibold bg-red-500 hover:bg-red-500 text-white border-2 border-white",children:a>9?"9+":a})]})}),(0,d.jsx)(i.hl,{className:"p-0 w-auto border-0 shadow-lg",align:"end",side:"bottom",sideOffset:8,children:(0,d.jsxs)("div",{className:"p-4 w-80",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Notifications"}),(0,d.jsxs)("div",{className:"text-center text-gray-500 py-8",children:[(0,d.jsx)(e.A,{className:"w-12 h-12 mx-auto text-gray-300"}),(0,d.jsx)("p",{className:"mt-2 font-medium",children:"No new notifications"}),(0,d.jsx)("p",{className:"text-sm text-gray-400",children:"We'll let you know when something new comes up."})]})]})})]})}},11811:(a,b,c)=>{Promise.resolve().then(c.bind(c,32438)),Promise.resolve().then(c.bind(c,62328)),Promise.resolve().then(c.bind(c,66572)),Promise.resolve().then(c.bind(c,8847)),Promise.resolve().then(c.bind(c,13203))},12491:(a,b,c)=>{Promise.resolve().then(c.bind(c,22066)),Promise.resolve().then(c.bind(c,49630)),Promise.resolve().then(c.bind(c,52761)),Promise.resolve().then(c.bind(c,75129)),Promise.resolve().then(c.bind(c,59569))},13203:(a,b,c)=>{"use strict";c.d(b,{NotificationsProvider:()=>h,useNotifications:()=>g});var d=c(68312),e=c(90377);let f=(0,e.createContext)(void 0),g=()=>{let a=(0,e.useContext)(f);if(!a)throw Error("useNotifications must be used within a NotificationsProvider");return a},h=({children:a,hasTrainer:b,isClubMember:c})=>{let[g,h]=(0,e.useState)(()=>[]);(0,e.useEffect)(()=>{if(0===g.length){let a=[];b&&a.push({id:"trainer-1",type:"trainer_message",title:"New Message from Sarah Johnson",message:"Great work on yesterday's leg workout! I've updated your routine for next week with some new exercises.",timestamp:new Date(Date.now()-72e5),isRead:!1,priority:"high",actionUrl:"trainer-and-clubs",actionText:"View Message",metadata:{trainerId:"trainer-sarah",trainerName:"Sarah Johnson"}},{id:"routine-1",type:"routine_update",title:"Routine Updated",message:'Your trainer has updated your "Full Body Split" routine with new exercises and rep ranges.',timestamp:new Date(Date.now()-216e5),isRead:!1,priority:"normal",actionUrl:"routines",actionText:"View Routine",metadata:{trainerId:"trainer-sarah",trainerName:"Sarah Johnson",routineId:"full-body-split",routineName:"Full Body Split"}}),c&&a.push({id:"club-1",type:"club_event",title:"Morning 5K Run Tomorrow",message:"Don't forget about the group run at Central Park tomorrow at 6:00 AM. 25 runners already signed up!",timestamp:new Date(Date.now()-144e5),isRead:!1,priority:"normal",actionUrl:"trainer-and-clubs",actionText:"View Event",metadata:{clubId:"morning-runners",clubName:"Morning Runners Club"}}),a.push({id:"achievement-1",type:"achievement",title:"Achievement Unlocked: Week Warrior!",message:"Congratulations! You've completed all your workouts this week. Keep up the excellent work!",timestamp:new Date(Date.now()-18e5),isRead:!1,priority:"high",actionUrl:"statistics",actionText:"View Achievement",metadata:{achievementId:"week-warrior"}},{id:"workout-1",type:"workout_reminder",title:"Workout Reminder",message:"Your Upper Body Strength workout is scheduled for today. Ready to crush those goals?",timestamp:new Date(Date.now()-36e5),isRead:!0,priority:"normal",actionUrl:"dashboard",actionText:"Start Workout"},{id:"suggestion-1",type:"suggestion_status",title:"Equipment Suggestion Approved",message:'Your suggestion for "Adjustable Dumbbells Set" has been approved and added to the equipment database.',timestamp:new Date(Date.now()-864e5),isRead:!0,priority:"normal",actionUrl:"equipment",actionText:"View Equipment",metadata:{suggestionId:"suggestion-equipment-1"}},{id:"system-1",type:"system",title:"New Features Available",message:"We've added new progress tracking features and improved the workout timer. Check them out!",timestamp:new Date(Date.now()-1728e5),isRead:!0,priority:"normal"}),h(a)}},[b,c,g.length]),(0,e.useEffect)(()=>{},[g]);let i=g.filter(a=>!a.isRead).length;return(0,d.jsx)(f.Provider,{value:{notifications:g,unreadCount:i,addNotification:a=>{let b={...a,id:`notification-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,timestamp:new Date};h(a=>[b,...a])},markAsRead:a=>{h(b=>b.map(b=>b.id===a?{...b,isRead:!0}:b))},markAllAsRead:()=>{h(a=>a.map(a=>({...a,isRead:!0})))},removeNotification:a=>{h(b=>b.filter(b=>b.id!==a))},clearAllNotifications:()=>{h([])}},children:a})}},16103:(a,b,c)=>{Promise.resolve().then(c.bind(c,78646)),Promise.resolve().then(c.bind(c,54071))},22066:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(8634).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/erikpr94/Documents/peakHealth/src/components/layout/header/Header.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/erikpr94/Documents/peakHealth/src/components/layout/header/Header.tsx","default")},28308:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,8746,23)),Promise.resolve().then(c.t.bind(c,12469,23)),Promise.resolve().then(c.t.bind(c,12117,23)),Promise.resolve().then(c.t.bind(c,4220,23)),Promise.resolve().then(c.t.bind(c,8932,23)),Promise.resolve().then(c.t.bind(c,13112,23)),Promise.resolve().then(c.t.bind(c,2822,23)),Promise.resolve().then(c.t.bind(c,88176,23)),Promise.resolve().then(c.t.bind(c,70256,23))},30516:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,90940,23)),Promise.resolve().then(c.t.bind(c,73855,23)),Promise.resolve().then(c.t.bind(c,65027,23)),Promise.resolve().then(c.t.bind(c,74118,23)),Promise.resolve().then(c.t.bind(c,94658,23)),Promise.resolve().then(c.t.bind(c,8198,23)),Promise.resolve().then(c.t.bind(c,58708,23)),Promise.resolve().then(c.t.bind(c,23398,23)),Promise.resolve().then(c.bind(c,46054))},32438:(a,b,c)=>{"use strict";c.d(b,{default:()=>U});var d=c(68312),e=c(26518),f=c(90377),g=c(75589);let h=({items:a,pathname:b,onNavigate:c})=>(0,d.jsx)("nav",{className:"hidden md:flex space-x-1",children:a.map(a=>{let e=a.icon,f=b===a.path;return(0,d.jsxs)(g.$,{variant:f?"default":"ghost",onClick:()=>c(a.path),className:"flex items-center gap-2 px-4 py-2",children:[(0,d.jsx)(e,{className:"w-4 h-4"}),(0,d.jsx)("span",{className:"hidden lg:inline",children:a.label})]},a.id)})});var i=c(52148),j=c.n(i),k=c(26094),l=c(65142),m=c(77909),n=c(55874),o=c(98617),p=c(64898),q=c(93015),r=c(40842),s=c(24690),t=c(88609),u=c(88149),v=c(74061),w=c(90439),x=c(81579),y=c(85107),z=c(51010),A=c(61534);let B=({...a})=>(0,d.jsx)(y.bL,{"data-slot":"sheet",...a}),C=({...a})=>(0,d.jsx)(y.l9,{"data-slot":"sheet-trigger",...a}),D=({...a})=>(0,d.jsx)(y.ZL,{"data-slot":"sheet-portal",...a}),E=({className:a,...b})=>(0,d.jsx)(y.hJ,{"data-slot":"sheet-overlay",className:(0,A.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...b}),F=({className:a,children:b,side:c="right",...e})=>(0,d.jsxs)(D,{children:[(0,d.jsx)(E,{}),(0,d.jsxs)(y.UC,{"data-slot":"sheet-content",className:(0,A.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===c&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===c&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===c&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===c&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",a),...e,children:[b,(0,d.jsxs)(y.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,d.jsx)(z.A,{className:"size-4"}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}),G=({className:a,...b})=>(0,d.jsx)("div",{"data-slot":"sheet-header",className:(0,A.cn)("flex flex-col gap-1.5 p-4",a),...b}),H=({className:a,...b})=>(0,d.jsx)(y.hE,{"data-slot":"sheet-title",className:(0,A.cn)("text-foreground font-semibold",a),...b}),I=({items:a,onNavigate:b,pathname:c,isOpen:e,onOpenChange:f})=>(0,d.jsx)("div",{className:"md:hidden",children:(0,d.jsxs)(B,{open:e,onOpenChange:f,children:[(0,d.jsx)(C,{asChild:!0,children:(0,d.jsxs)(g.$,{variant:"ghost",size:"icon",children:[(0,d.jsx)(x.A,{className:"h-6 w-6"}),(0,d.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,d.jsxs)(F,{side:"left",children:[(0,d.jsx)(G,{children:(0,d.jsx)(H,{children:"Peak Health"})}),(0,d.jsx)("nav",{className:"mt-8 flex flex-col gap-2",children:a.map(a=>{let e=a.icon,f=c===a.path;return(0,d.jsxs)(g.$,{variant:f?"secondary":"ghost",onClick:()=>b(a.path),className:"flex items-center justify-start gap-3",children:[(0,d.jsx)(e,{className:"h-5 w-5"}),(0,d.jsx)("span",{children:a.label})]},a.id)})})]})]})});var J=c(73962),K=c(88909),L=c(42446),M=c(53984);let N=({user:a,onLogout:b,userMenuItems:c,settingsMenuItems:h,supportMenuItems:i})=>{let j=(0,e.useRouter)(),[k,l]=(0,f.useState)(!1),m=[c,h,i];return(0,d.jsxs)(M.rI,{open:k,onOpenChange:l,children:[(0,d.jsx)(M.ty,{asChild:!0,children:(0,d.jsxs)(g.$,{variant:"ghost",className:"flex items-center gap-2 px-2 py-1 h-auto","data-testid":"user-menu-button",children:[(0,d.jsxs)(L.eu,{className:"w-8 h-8",children:[(0,d.jsx)(L.BK,{src:a?.user_metadata.avatar_url,alt:a?.email??""}),(0,d.jsx)(L.q5,{className:"text-xs",children:(a=>a?a.substring(0,2).toUpperCase():"")(a?.email)})]}),(0,d.jsxs)("div",{className:"hidden sm:flex flex-col text-left",children:[(0,d.jsx)("span",{className:"text-sm font-medium text-gray-700 truncate max-w-[150px]",children:a?.user_metadata.name??a?.user_metadata.display_name??a?.user_metadata.full_name??a?.email}),(0,d.jsx)("span",{className:"text-xs text-gray-500 truncate max-w-[150px]",children:a?.user_metadata.email})]}),(0,d.jsx)(J.A,{className:"w-4 h-4 text-gray-500"})]})}),(0,d.jsxs)(M.SQ,{align:"end",className:"w-56",sideOffset:8,children:[m.map((a,b)=>(0,d.jsxs)("div",{children:[a.map(a=>{let b=a.icon;return(0,d.jsxs)(M._2,{onClick:()=>{var b;return b=a.path,void(j.push(b),l(!1))},className:"flex items-center gap-2",children:[(0,d.jsx)(b,{className:"w-4 h-4"}),a.label]},a.id)}),b<m.length-1&&(0,d.jsx)(M.mB,{})]},b)),(0,d.jsx)(M.mB,{}),(0,d.jsxs)(M._2,{onClick:()=>{b(),l(!1)},className:"flex items-center gap-2 text-red-600 focus:text-red-600","data-testid":"logout-button",children:[(0,d.jsx)(K.A,{className:"w-4 h-4"}),"Log out"]})]})]})},O=()=>(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"h-8 w-24 rounded-md bg-gray-300 animate-pulse"}),(0,d.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-300 animate-pulse"})]});var P=c(87163),Q=c(211),R=c(8847),S=c(13203),T=c(59360);let U=()=>{let a=(0,e.useRouter)(),b=(0,e.usePathname)(),{logout:c,user:g}=(0,P.A)(),{unreadCount:i}=(0,S.useNotifications)(),[x,y]=(0,f.useState)(!1),{flags:z}=(0,Q.u)(g?[Q.$v.NOTIFICATION_SYSTEM_FEATURE]:[]),A=g&&z[Q.$v.NOTIFICATION_SYSTEM_FEATURE],B=(()=>{let{flags:a,isLoading:b}=(0,Q.u)([T.$v.CALENDAR_FEATURE,T.$v.PERFORMANCE_FEATURE,T.$v.HEALTH_FEATURE,T.$v.TRAINER_AND_CLUBS_FEATURE,T.$v.GYMS_FEATURE,T.$v.EQUIPMENT_FEATURE,T.$v.SUGGESTIONS_FEATURE,T.$v.ACCOUNT_SETTINGS_FEATURE,T.$v.APP_SETTINGS_FEATURE,T.$v.HELP_SUPPORT_FEATURE]);return{flags:a,isLoading:b,isCalendarEnabled:a[T.$v.CALENDAR_FEATURE],isPerformanceEnabled:a[T.$v.PERFORMANCE_FEATURE],isHealthEnabled:a[T.$v.HEALTH_FEATURE],isTrainerAndClubsEnabled:a[T.$v.TRAINER_AND_CLUBS_FEATURE],isGymsEnabled:a[T.$v.GYMS_FEATURE],isEquipmentEnabled:a[T.$v.EQUIPMENT_FEATURE],isSuggestionsEnabled:a[T.$v.SUGGESTIONS_FEATURE],isAccountSettingsEnabled:a[T.$v.ACCOUNT_SETTINGS_FEATURE],isAppSettingsEnabled:a[T.$v.APP_SETTINGS_FEATURE],isHelpSupportEnabled:a[T.$v.HELP_SUPPORT_FEATURE]}})(),C=(a=>[{id:"dashboard",label:"Dashboard",icon:k.A,path:"/dashboard"},{id:"routines",label:"Routines",icon:l.A,path:"/routines"},{id:"exercises",label:"Exercises",icon:m.A,path:"/exercises"},...a.isCalendarEnabled?[{id:"calendar",label:"Calendar",icon:n.A,path:"/calendar"}]:[],...a.isPerformanceEnabled?[{id:"performance",label:"Performance",icon:o.A,path:"/performance"}]:[],...a.isHealthEnabled?[{id:"health",label:"Health",icon:p.A,path:"/health"}]:[]])({isCalendarEnabled:B.isCalendarEnabled,isPerformanceEnabled:B.isPerformanceEnabled,isHealthEnabled:B.isHealthEnabled}),D=(a=>[{id:"profile",label:"Profile",icon:q.A,path:"/profile"},...a.isTrainerAndClubsEnabled?[{id:"trainer-and-clubs",label:"Trainer & Clubs",icon:r.A,path:"/trainer-and-clubs"}]:[],...a.isGymsEnabled?[{id:"gyms",label:"Gyms",icon:s.A,path:"/gyms"}]:[],...a.isEquipmentEnabled?[{id:"equipment",label:"Equipment",icon:t.A,path:"/equipment"}]:[],...a.isSuggestionsEnabled?[{id:"suggestions",label:"Suggestions",icon:u.A,path:"/suggestions"}]:[]])({isTrainerAndClubsEnabled:B.isTrainerAndClubsEnabled,isGymsEnabled:B.isGymsEnabled,isEquipmentEnabled:B.isEquipmentEnabled,isSuggestionsEnabled:B.isSuggestionsEnabled}),E=(a=>[...a.isAccountSettingsEnabled?[{id:"account-settings",label:"Account Settings",icon:v.A,path:"/account-settings"}]:[],...a.isAppSettingsEnabled?[{id:"app-settings",label:"App Settings",icon:v.A,path:"/app-settings"}]:[]])({isAccountSettingsEnabled:B.isAccountSettingsEnabled,isAppSettingsEnabled:B.isAppSettingsEnabled}),F=[...{isHelpSupportEnabled:B.isHelpSupportEnabled}.isHelpSupportEnabled?[{id:"help-support",label:"Help & Support",icon:w.A,path:"/help-support"}]:[]],G=b=>{a.push(b),y(!1)};return(0,d.jsx)("header",{className:j().header,children:(0,d.jsx)("div",{className:"w-full px-4 sm:px-6 lg:px-8",style:{maxWidth:"100vw",boxSizing:"border-box"},children:(0,d.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(I,{items:C,onNavigate:G,pathname:b??"",isOpen:x,onOpenChange:y}),(0,d.jsx)("h1",{className:"text-xl font-bold text-primary hidden sm:block",children:"Peak Health"})]}),(0,d.jsx)(h,{items:C,pathname:b??"",onNavigate:G}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[A&&(0,d.jsx)(R.NotificationsBell,{unreadCount:i}),(0,d.jsx)(f.Suspense,{fallback:(0,d.jsx)(O,{}),children:(0,d.jsx)(N,{user:g,onLogout:c,userMenuItems:D,settingsMenuItems:E,supportMenuItems:F})})]})]})})})}},33786:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>i});var d=c(58562),e=c(22066),f=c(49630);process.env.FEATURE_FLAG_MONITORING_ENABLED,process.env.FEATURE_FLAG_MONITORING_ENDPOINT,process.env.FEATURE_FLAG_MONITORING_API_KEY,parseInt(process.env.FEATURE_FLAG_CACHE_TTL||"300000");var g=c(52761);c(75129);var h=c(59569);let i=({children:a})=>(0,d.jsx)(f.AppProvider,{children:(0,d.jsx)(g.FeatureFlagProvider,{children:(0,d.jsxs)(h.NotificationsProvider,{hasTrainer:!1,isClubMember:!1,children:[(0,d.jsx)(e.default,{}),(0,d.jsx)("main",{style:{paddingTop:"64px"},children:a})]})})})},42446:(a,b,c)=>{"use strict";c.d(b,{BK:()=>h,eu:()=>g,q5:()=>i});var d=c(68312),e=c(80692);c(90377);var f=c(61534);let g=({className:a,...b})=>(0,d.jsx)(e.bL,{"data-slot":"avatar",className:(0,f.cn)("relative flex size-10 shrink-0 overflow-hidden rounded-full",a),...b}),h=({className:a,...b})=>(0,d.jsx)(e._V,{"data-slot":"avatar-image",className:(0,f.cn)("aspect-square size-full",a),...b}),i=({className:a,...b})=>(0,d.jsx)(e.H4,{"data-slot":"avatar-fallback",className:(0,f.cn)("bg-muted flex size-full items-center justify-center rounded-full",a),...b})},45590:()=>{},46367:(a,b,c)=>{Promise.resolve().then(c.bind(c,5924)),Promise.resolve().then(c.bind(c,87163))},49630:(a,b,c)=>{"use strict";c.d(b,{AppProvider:()=>e});var d=c(8634);(0,d.registerClientReference)(function(){throw Error("Attempted to call useAppContext() from the server but useAppContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/erikpr94/Documents/peakHealth/src/contexts/AppContext.tsx","useAppContext");let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call AppProvider() from the server but AppProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/erikpr94/Documents/peakHealth/src/contexts/AppContext.tsx","AppProvider")},52148:a=>{a.exports={header:"Header_header__3GDmM"}},52367:()=>{},52761:(a,b,c)=>{"use strict";c.r(b),c.d(b,{FeatureFlagProvider:()=>e,useFeatureFlags:()=>f});var d=c(8634);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call FeatureFlagProvider() from the server but FeatureFlagProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/erikpr94/Documents/peakHealth/src/features/feature-flags/context/FeatureFlagContext.tsx","FeatureFlagProvider"),f=(0,d.registerClientReference)(function(){throw Error("Attempted to call useFeatureFlags() from the server but useFeatureFlags is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/erikpr94/Documents/peakHealth/src/features/feature-flags/context/FeatureFlagContext.tsx","useFeatureFlags")},53984:(a,b,c)=>{"use strict";c.d(b,{SQ:()=>m,_2:()=>n,mB:()=>o,rI:()=>k,ty:()=>l});var d=c(68312),e=c(1790),f=c(37314),g=c(84838),h=c(72092),i=c(90377),j=c(61534);let k=e.bL,l=e.l9;e.YJ,e.ZL,e.Pb,e.z6,i.forwardRef(({className:a,inset:b,children:c,...g},h)=>(0,d.jsxs)(e.ZP,{ref:h,className:(0,j.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",b&&"pl-8",a),...g,children:[c,(0,d.jsx)(f.A,{className:"ml-auto h-4 w-4"})]})).displayName=e.ZP.displayName,i.forwardRef(({className:a,...b},c)=>(0,d.jsx)(e.G5,{ref:c,className:(0,j.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...b})).displayName=e.G5.displayName;let m=i.forwardRef(({className:a,sideOffset:b=4,...c},f)=>(0,d.jsx)(e.ZL,{children:(0,d.jsx)(e.UC,{ref:f,sideOffset:b,className:(0,j.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...c})}));m.displayName=e.UC.displayName;let n=i.forwardRef(({className:a,inset:b,...c},f)=>(0,d.jsx)(e.q7,{ref:f,className:(0,j.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",b&&"pl-8",a),...c}));n.displayName=e.q7.displayName,i.forwardRef(({className:a,children:b,checked:c,...f},h)=>(0,d.jsxs)(e.H_,{ref:h,className:(0,j.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:c,...f,children:[(0,d.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,d.jsx)(e.VF,{children:(0,d.jsx)(g.A,{className:"h-4 w-4"})})}),b]})).displayName=e.H_.displayName,i.forwardRef(({className:a,children:b,...c},f)=>(0,d.jsxs)(e.hN,{ref:f,className:(0,j.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...c,children:[(0,d.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,d.jsx)(e.VF,{children:(0,d.jsx)(h.A,{className:"h-2 w-2 fill-current"})})}),b]})).displayName=e.hN.displayName,i.forwardRef(({className:a,inset:b,...c},f)=>(0,d.jsx)(e.JU,{ref:f,className:(0,j.cn)("px-2 py-1.5 text-sm font-semibold",b&&"pl-8",a),...c})).displayName=e.JU.displayName;let o=i.forwardRef(({className:a,...b},c)=>(0,d.jsx)(e.wv,{ref:c,className:(0,j.cn)("-mx-1 my-1 h-px bg-muted",a),...b}));o.displayName=e.wv.displayName},54071:(a,b,c)=>{"use strict";c.d(b,{AuthProvider:()=>e});var d=c(8634);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/erikpr94/Documents/peakHealth/src/features/auth/context/AuthContext.tsx","AuthProvider");(0,d.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/erikpr94/Documents/peakHealth/src/features/auth/context/AuthContext.tsx","useAuth")},59360:(a,b,c)=>{"use strict";c.d(b,{$v:()=>e,n0:()=>d});let d={monitoring:{enabled:!!process.env.FEATURE_FLAG_MONITORING_ENABLED,endpoint:process.env.FEATURE_FLAG_MONITORING_ENDPOINT,apiKey:process.env.FEATURE_FLAG_MONITORING_API_KEY},caching:{enabled:!0,ttl:parseInt(process.env.FEATURE_FLAG_CACHE_TTL||"300000")},analytics:{enabled:!0,trackUsage:!0,trackPerformance:!0}},e={NOTIFICATION_SYSTEM_FEATURE:"notification_system_feature",CALENDAR_FEATURE:"calendar_feature",PERFORMANCE_FEATURE:"performance_feature",HEALTH_FEATURE:"health_feature",TRAINER_AND_CLUBS_FEATURE:"trainer_and_clubs_feature",GYMS_FEATURE:"gyms_feature",EQUIPMENT_FEATURE:"equipment_feature",SUGGESTIONS_FEATURE:"suggestions_feature",ACCOUNT_SETTINGS_FEATURE:"account_settings_feature",APP_SETTINGS_FEATURE:"app_settings_feature",HELP_SUPPORT_FEATURE:"help_support_feature",DASHBOARD_FEATURE:"dashboard_feature"}},59569:(a,b,c)=>{"use strict";c.d(b,{NotificationsProvider:()=>f,useNotifications:()=>e});var d=c(8634);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call useNotifications() from the server but useNotifications is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/erikpr94/Documents/peakHealth/src/features/notifications/NotificationsContext.tsx","useNotifications"),f=(0,d.registerClientReference)(function(){throw Error("Attempted to call NotificationsProvider() from the server but NotificationsProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/erikpr94/Documents/peakHealth/src/features/notifications/NotificationsContext.tsx","NotificationsProvider")},61534:(a,b,c)=>{"use strict";c.d(b,{cn:()=>f});var d=c(49948),e=c(45452);function f(...a){return(0,e.QP)((0,d.$)(a))}},62328:(a,b,c)=>{"use strict";c.d(b,{AppProvider:()=>h,U:()=>g});var d=c(68312),e=c(90377);let f=(0,e.createContext)(void 0),g=()=>{let a=(0,e.useContext)(f);if(!a)throw Error("useAppContext must be used within an AppProvider");return a},h=({children:a})=>{let[b,c]=(0,e.useState)(!1),[g,h]=(0,e.useState)(!1),[i,j]=(0,e.useState)(!0);return(0,d.jsx)(f.Provider,{value:{hasTrainer:b,isClubMember:g,showWelcomeScreen:i,toggleTrainer:()=>{c(a=>!a)},toggleClubMembership:()=>{h(a=>!a)},toggleWelcomeScreen:()=>{j(a=>!a)}},children:a})}},66572:(a,b,c)=>{"use strict";c.r(b),c.d(b,{FeatureFlagProvider:()=>m,useFeatureFlags:()=>n});var d=c(68312),e=c(90377),f=c(59360);class g{async get(a,b,c=this.DEFAULT_TTL){if(!f.n0.caching.enabled)return await b();let d=this.cache.get(a);if(d&&Date.now()-d.timestamp<d.ttl)return d.data;let e=await b();return this.cache.set(a,{data:e,timestamp:Date.now(),ttl:c}),e}invalidate(a){for(let b of this.cache.keys())b.includes(a)&&this.cache.delete(b)}invalidateUser(a){this.invalidate(`user-${a}`)}invalidateFeatureFlag(a){this.invalidate(`feature-${a}`)}clear(){this.cache.clear()}getStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys())}}constructor(){this.cache=new Map,this.DEFAULT_TTL=f.n0.caching.ttl}}let h=new g;class i{trackFeatureFlagUsage(a,b,c){this.metrics.usage[a]=(this.metrics.usage[a]||0)+1}trackFeatureFlagError(a,b,c){console.error("[Feature Flag Error]",a,b,c),this.metrics.errors[a]=(this.metrics.errors[a]||0)+1}trackFeatureFlagPerformance(a,b,c){this.metrics.performance[a]=b}trackCacheHit(a){this.metrics.cache.hits++}trackCacheMiss(a){this.metrics.cache.misses++}trackUserTypeAssignment(a,b){console.log("[User Type Assignment]",a,b),this.metrics.userAssignments.types[b]=(this.metrics.userAssignments.types[b]||0)+1}trackUserGroupAssignment(a,b){console.log("[User Group Assignment]",a,b),this.metrics.userAssignments.groups[b]=(this.metrics.userAssignments.groups[b]||0)+1}getMetrics(){return{...this.metrics}}resetMetrics(){this.metrics={usage:{},errors:{},performance:{},cache:{hits:0,misses:0},userAssignments:{types:{},groups:{}}}}constructor(){this.metrics={usage:{},errors:{},performance:{},cache:{hits:0,misses:0},userAssignments:{types:{},groups:{}}}}}let j=new i;var k=c(87163);let l=(0,e.createContext)(void 0),m=({children:a})=>{let{user:b}=(0,k.A)(),[c,f]=(0,e.useState)({}),[g,i]=(0,e.useState)({}),[m,n]=(0,e.useState)([]),[o,p]=(0,e.useState)([]),[q,r]=(0,e.useState)(!0);(0,e.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/feature-flags/public");if(a.ok){let{flags:b}=await a.json(),c=b.reduce((a,b)=>(a[b.name]={name:b.name,isEnabled:b.is_enabled,rolloutPercentage:b.rollout_percentage},a),{});f(c)}}catch{}})()},[]);let s=(0,e.useCallback)(async()=>{if(!b||!b.id){i({}),n([]),p([]),r(!1);return}r(!0),n((b.userRoles||[]).map(a=>({typeName:a,displayName:a,description:""}))),p((b.userGroups||[]).map(a=>({groupName:a,displayName:a,description:""})));let a=Date.now();try{let c=await fetch("/api/feature-flags");if(!c.ok)throw Error("Failed to fetch user feature flags");let{flags:d}=await c.json(),e=d.reduce((a,b)=>(a[b.name]={name:b.name,isEnabled:b.is_enabled,rolloutPercentage:b.rollout_percentage},a),{});i(e);let f=Date.now()-a;j.trackFeatureFlagPerformance("feature_flags_load",f,b.id)}catch(a){j.trackFeatureFlagError("feature_flags_load",a,b.id)}finally{r(!1)}},[b]);(0,e.useEffect)(()=>{s()},[s]);let t=(0,e.useMemo)(()=>({...c,...g}),[c,g]),u=(0,e.useCallback)(a=>{let c=t[a],d=!!c&&c.isEnabled;return b&&j.trackFeatureFlagUsage(a,d,b.id),d},[t,b]),v=(0,e.useCallback)(a=>m.some(b=>b.typeName===a),[m]),w=(0,e.useCallback)(a=>o.some(b=>b.groupName===a),[o]),x=(0,e.useCallback)(async()=>{b&&(h.invalidateUser(b.id),await s())},[b,s]);return(0,d.jsx)(l.Provider,{value:{flags:t,userTypes:m,userGroups:o,isLoading:q,isEnabled:u,hasUserType:v,isInGroup:w,refreshFlags:x},children:a})},n=()=>{let a=(0,e.useContext)(l);if(!a)throw Error("useFeatureFlags must be used within FeatureFlagProvider");return a}},75129:(a,b,c)=>{"use strict";c.d(b,{NotificationsBell:()=>d});let d=(0,c(8634).registerClientReference)(function(){throw Error("Attempted to call NotificationsBell() from the server but NotificationsBell is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/erikpr94/Documents/peakHealth/src/features/notifications/NotificationsBell.tsx","NotificationsBell")},75589:(a,b,c)=>{"use strict";c.d(b,{$:()=>j,r:()=>i});var d=c(68312),e=c(33210),f=c(81732),g=c(90377),h=c(61534);let i=(0,f.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),j=g.forwardRef(({className:a,variant:b,size:c,asChild:f=!1,...g},j)=>{let k=f?e.DX:"button";return(0,d.jsx)(k,{"data-slot":"button",className:(0,h.cn)(i({variant:b,size:c,className:a})),ref:j,...g})});j.displayName="Button"},78646:(a,b,c)=>{"use strict";c.d(b,{SWRProvider:()=>d});let d=(0,c(8634).registerClientReference)(function(){throw Error("Attempted to call SWRProvider() from the server but SWRProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/erikpr94/Documents/peakHealth/src/components/providers/SWRProvider.tsx","SWRProvider")},81449:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>h,metadata:()=>g});var d=c(58562);c(8029);var e=c(78646),f=c(54071);let g={title:"Peak Health",description:"Your ultimate companion for tracking workouts, monitoring progress, and achieving your fitness goals."},h=({children:a})=>(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{children:(0,d.jsx)(e.SWRProvider,{children:(0,d.jsx)(f.AuthProvider,{children:a})})})})},87163:(a,b,c)=>{"use strict";c.d(b,{AuthProvider:()=>k,A:()=>l});var d=c(68312),e=c(26518),f=c(90377),g=c(95989),h=c(3627);let i=(0,f.createContext)(void 0),j=async a=>{let b=await fetch(a);if(!b.ok){if(401===b.status)return null;let a=Error("An error occurred while fetching the user.");throw a.info=await b.json(),a.status=b.status,a}return(await b.json()).user||null},k=({children:a})=>{let b=(0,h.createBrowserClient)("http://127.0.0.1:54321","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0"),c=(0,e.useRouter)(),[k,l]=(0,f.useState)(!1),{data:m,mutate:n}=(0,g.Ay)("/api/auth/user",j,{revalidateOnFocus:!0,shouldRetryOnError:!1,suspense:!0,fallbackData:null}),o=(0,f.useCallback)(async(a,b)=>{"SIGNED_IN"===a||"USER_UPDATED"===a?await n():"SIGNED_OUT"===a&&await n(null,!1)},[n]);(0,f.useEffect)(()=>{let{data:{subscription:a}}=b.auth.onAuthStateChange((a,b)=>{o(a,b)});return()=>{a.unsubscribe()}},[b,o]);let p=async(a,b)=>{if(a&&b){l(!0);try{let d=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:b})}),e=await d.json();if(!d.ok)throw Error(e.error||"Login failed");await n(e.user,!1),c.push("/dashboard")}finally{l(!1)}}},q=async(a,b,d)=>{if(a&&b&&d){l(!0);try{let e=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:b,name:d})}),f=await e.json();if(!e.ok)throw Error(f.error||"Sign up failed");await n(f.user,!1),c.push("/dashboard")}finally{l(!1)}}},r=async()=>{l(!0);try{let a=await fetch("/api/auth/logout",{method:"POST"});if(!a.ok){let b=await a.json();throw Error(b.error||"Logout failed")}await n(null,!1),c.push("/")}finally{l(!1)}};return(0,d.jsx)(i.Provider,{value:{isAuthenticated:!!m,isAuthOperationLoading:k,login:p,logout:r,signUp:q,user:m||null,userId:m?.id||null,userRoles:m?.userRoles||[],userGroups:m?.userGroups||[],hasRole:a=>m?.userRoles?.includes(a)||!1,hasGroup:a=>m?.userGroups?.includes(a)||!1,hasAnyRole:a=>a?.some(a=>m?.userRoles?.includes(a))||!1,hasAnyGroup:a=>a?.some(a=>m?.userGroups?.includes(a))||!1},children:a})},l=()=>{let a=(0,f.useContext)(i);if(void 0===a)throw Error("useAuth must be used within an AuthProvider");return a}},90214:(a,b,c)=>{"use strict";c.d(b,{AM:()=>g,Wv:()=>h,hl:()=>i});var d=c(68312),e=c(80465);c(90377);var f=c(61534);let g=({...a})=>(0,d.jsx)(e.bL,{"data-slot":"popover",...a}),h=({...a})=>(0,d.jsx)(e.l9,{"data-slot":"popover-trigger",...a}),i=({className:a,align:b="center",sideOffset:c=4,...g})=>(0,d.jsx)(e.ZL,{children:(0,d.jsx)(e.UC,{"data-slot":"popover-content",align:b,sideOffset:c,className:(0,f.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",a),...g})})},99564:(a,b,c)=>{"use strict";c.d(b,{E:()=>i});var d=c(68312),e=c(33210),f=c(81732);c(90377);var g=c(61534);let h=(0,f.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}}),i=({className:a,variant:b,asChild:c=!1,...f})=>{let i=c?e.DX:"span";return(0,d.jsx)(i,{"data-slot":"badge",className:(0,g.cn)(h({variant:b}),a),...f})}}};