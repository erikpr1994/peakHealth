"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3334],{3418:(e,t,r)=>{r.d(t,{B7:()=>s,J8:()=>a,ep:()=>i,g:()=>n});let a=e=>{let t={Beginner:"bg-green-100 text-green-700",Intermediate:"bg-yellow-100 text-yellow-700",Advanced:"bg-red-100 text-red-700",Unknown:"bg-gray-100 text-gray-700"};return t[e]||t.Unknown},s=e=>{switch(e){case"Beginner":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"Intermediate":return"bg-amber-100 text-amber-700 border-amber-200";case"Advanced":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},i=e=>{let t={Strength:"bg-indigo-100 text-indigo-700",Cardio:"bg-green-100 text-green-700",Flexibility:"bg-purple-100 text-purple-700",Balance:"bg-yellow-100 text-yellow-700"};return t[e]||t.Strength},n=(e,t)=>{if(!t){let t=e.variants.find(t=>t.id===e.mainVariantId);if(!t)throw Error("No main variant found for exercise ".concat(e.id));return t}return t}},4211:(e,t,r)=>{r.d(t,{$:()=>d,r:()=>o});var a=r(20906),s=r(90882),i=r(57742),n=r(33826),l=r(66208);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:r,variant:i,size:n,asChild:d=!1,...c}=e,u=d?s.DX:"button";return(0,a.jsx)(u,{"data-slot":"button",className:(0,l.cn)(o({variant:i,size:n,className:r})),ref:t,...c})});d.displayName="Button"},8434:(e,t,r)=>{r.d(t,{y:()=>a});let a=(e,t,r,a)=>e.filter(e=>{let s=e.variants.find(t=>t.id===e.mainVariantId);if(!s)return!1;let i=e.name.toLowerCase().includes(t.toLowerCase())||s.muscleGroups.some(e=>e.toLowerCase().includes(t.toLowerCase())),n="All"===r||e.category===r,l=0===a.difficulties.length||a.difficulties.includes(s.difficulty),o=0===a.muscleGroups.length||a.muscleGroups.some(e=>s.muscleGroups.includes(e)),d=0===a.equipment.length||s.equipment&&a.equipment.some(e=>{var t;return null==(t=s.equipment)?void 0:t.includes(e)});return i&&n&&l&&o&&d})},9105:(e,t,r)=>{r.d(t,{sv:()=>a.sv,Ws:()=>s,Pk:()=>i,ZR:()=>l,s2:()=>n});var a=r(43740);let s=Object.values(a.sv),i=Object.values(a.v4),n=Object.values(a.ur),l=Object.values(a.XJ);a.sv.INTERMEDIATE,a.v4.BARBELL,a.v4.BENCH,a.ur.CHEST,a.ur.TRICEPS,a.ur.SHOULDERS,a.sv.INTERMEDIATE,a.v4.BARBELL,a.v4.INCLINE_BENCH,a.ur.UPPER_CHEST,a.ur.SHOULDERS,a.ur.TRICEPS,a.sv.INTERMEDIATE,a.v4.BARBELL,a.v4.DECLINE_BENCH,a.ur.LOWER_CHEST,a.ur.SHOULDERS,a.ur.TRICEPS,a.sv.INTERMEDIATE,a.v4.DUMBBELL,a.v4.BENCH,a.ur.CHEST,a.ur.SHOULDERS,a.ur.TRICEPS,a.sv.BEGINNER,a.v4.BODYWEIGHT,a.ur.LEGS,a.ur.GLUTES,a.sv.BEGINNER,a.v4.DUMBBELL,a.ur.LEGS,a.ur.GLUTES,a.ur.CORE,a.sv.BEGINNER,a.v4.BODYWEIGHT,a.ur.CHEST,a.ur.TRICEPS,a.ur.CORE,a.sv.BEGINNER,a.v4.BENCH,a.v4.STEP,a.ur.CHEST,a.ur.TRICEPS,a.ur.SHOULDERS,a.sv.ADVANCED,a.v4.BODYWEIGHT,a.ur.TRICEPS,a.ur.CHEST,a.ur.CORE,a.XJ.STRENGTH,a.sv.INTERMEDIATE,a.sv.INTERMEDIATE,a.v4.BARBELL,a.v4.BENCH,a.v4.DUMBBELL,a.v4.INCLINE_BENCH,a.v4.DECLINE_BENCH,a.ur.CHEST,a.ur.TRICEPS,a.ur.SHOULDERS,a.ur.UPPER_CHEST,a.ur.LOWER_CHEST,a.XJ.STRENGTH,a.sv.BEGINNER,a.sv.BEGINNER,a.v4.BODYWEIGHT,a.v4.DUMBBELL,a.ur.LEGS,a.ur.GLUTES,a.ur.CORE,a.XJ.STRENGTH,a.sv.BEGINNER,a.sv.ADVANCED,a.v4.BODYWEIGHT,a.v4.BENCH,a.v4.STEP,a.ur.CHEST,a.ur.TRICEPS,a.ur.CORE,a.ur.SHOULDERS},10991:(e,t,r)=>{r.d(t,{Cf:()=>v,Es:()=>m,L3:()=>p,c7:()=>g,lG:()=>o,rr:()=>f,zM:()=>d});var a=r(20906),s=r(7777),i=r(69476),n=r(33826),l=r(66208);let o=s.bL,d=s.l9,c=s.ZL;s.bm;let u=n.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)(s.hJ,{ref:t,"data-slot":"dialog-overlay",className:(0,l.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",r),...i})});u.displayName=s.hJ.displayName;let v=n.forwardRef((e,t)=>{let{className:r,children:n,...o}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(u,{}),(0,a.jsxs)(s.UC,{ref:t,"data-slot":"dialog-content",className:(0,l.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",r),...o,children:[n,(0,a.jsxs)(s.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(i.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});v.displayName=s.UC.displayName;let g=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,l.cn)("flex flex-col gap-2 text-center sm:text-left",t),...r})};g.displayName="DialogHeader";let m=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,l.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...r})};m.displayName="DialogFooter";let p=n.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)(s.hE,{ref:t,"data-slot":"dialog-title",className:(0,l.cn)("text-lg leading-none font-semibold",r),...i})});p.displayName=s.hE.displayName;let f=n.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)(s.VY,{ref:t,"data-slot":"dialog-description",className:(0,l.cn)("text-muted-foreground text-sm",r),...i})});f.displayName=s.VY.displayName},16355:(e,t,r)=>{r.d(t,{i:()=>n});var a=r(20906),s=r(3418),i=r(58620);let n=e=>{let{category:t,variant:r="outline",className:n=""}=e;return(0,a.jsx)(i.E,{variant:r,className:"text-xs ".concat((0,s.ep)(t)," ").concat(n),children:t})}},35826:(e,t,r)=>{r.d(t,{H:()=>c});var a=r(20906),s=r(12791),i=r(50017),n=r(26816),l=r(25560),o=r(3418),d=r(58620);let c=e=>{let{difficulty:t,showIcon:r=!0,className:c=""}=e;return(0,a.jsxs)(d.E,{className:"".concat((0,o.B7)(t)," text-xs border ").concat(c),children:[r&&(e=>{switch(e){case"Beginner":return(0,a.jsx)(s.A,{className:"w-3 h-3"});case"Intermediate":return(0,a.jsx)(i.A,{className:"w-3 h-3"});case"Advanced":return(0,a.jsx)(n.A,{className:"w-3 h-3"});default:return(0,a.jsx)(l.A,{className:"w-3 h-3"})}})(t),(0,a.jsx)("span",{className:r?"ml-1":"",children:t})]})}},36238:(e,t,r)=>{r.d(t,{F:()=>p});var a=r(20906),s=r(20616),i=r(12120),n=r(55324),l=r(33826),o=r(37634),d=r(9105),c=r(16355),u=r(35826),v=r(4211),g=r(70097),m=r(96196);let p=e=>{let{exercise:t,onClick:r,onFavoriteToggle:p,showChevron:f=!1,isSelected:h=!1,className:x="",size:b="md"}=e,[E,N]=(0,l.useState)(t.isFavorite),[y,w]=(0,l.useState)(!1),{addToFavorites:C,removeFromFavorites:S}=(0,o.zy)(),{userId:j}=(0,m.A)(),T=t.variants.find(e=>e.id===t.mainVariantId),R=async e=>{if(e.stopPropagation(),!j){null==p||p();return}if(!y){w(!0);try{E?(await S(j,t.id),N(!1)):(await C(j,t.id),N(!0)),null==p||p()}catch(e){N(t.isFavorite)}finally{w(!1)}}};return(0,a.jsxs)(g.Zp,{className:"cursor-pointer hover:shadow-md transition-shadow ".concat({sm:"w-full max-w-xs",md:"w-full max-w-sm",lg:"w-full max-w-md"}[b]," mx-auto ").concat(h?"border-primary shadow-lg ring-1 ring-primary/20":"border-gray-200 hover:border-gray-300"," ").concat(x),onClick:r,children:[(0,a.jsxs)("div",{className:"bg-gray-100 ".concat({sm:"h-24",md:"h-32",lg:"h-40"}[b]," relative"),children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)("div",{className:{sm:"text-2xl",md:"text-3xl",lg:"text-4xl"}[b],children:t.icon})}),(0,a.jsx)("div",{className:"absolute bottom-3 left-3 right-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(u.H,{difficulty:(null==T?void 0:T.difficulty)||d.sv.UNKNOWN}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[t.isPopular&&(0,a.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-full px-2 py-1 flex items-center gap-1",children:[(0,a.jsx)(s.A,{className:"w-3 h-3 text-yellow-500 fill-yellow-500"}),(0,a.jsx)("span",{className:"text-xs text-gray-700",children:"Popular"})]}),t.isNew&&(0,a.jsx)("div",{className:"bg-green-500 rounded-full px-2 py-1",children:(0,a.jsx)("span",{className:"text-xs text-white",children:"New"})})]})]})}),t.rating&&"sm"!==b&&(0,a.jsxs)("div",{className:"absolute top-3 right-3 flex items-center gap-1 bg-white px-2 py-1 rounded-full text-sm",children:[(0,a.jsx)(s.A,{className:"w-3 h-3 text-yellow-500 fill-yellow-500"}),(0,a.jsx)("span",{className:"text-gray-600",children:t.rating})]})]}),(0,a.jsxs)("div",{className:{sm:"p-3",md:"p-4",lg:"p-4"}[b],children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-800 mb-2 truncate",children:t.name}),(0,a.jsx)("div",{className:"flex items-center text-sm text-gray-600 mb-3",children:(0,a.jsx)("span",{className:"truncate",children:(null==T?void 0:T.muscleGroups.join(", "))||"Multiple muscle groups"})})]}),f&&(0,a.jsx)(i.A,{className:"w-4 h-4 text-gray-400 group-hover:text-primary transition-all ".concat(h?"rotate-90":"")})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,a.jsx)(c.i,{category:t.category}),t.variants&&t.variants.length>0&&(0,a.jsxs)("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:[t.variants.length," variants"]})]}),(0,a.jsx)(v.$,{variant:"ghost",size:"sm",onClick:R,disabled:y,className:"flex-shrink-0 ml-2",children:(0,a.jsx)(n.A,{className:"w-4 h-4 ".concat(E?"text-red-500 fill-red-500":"text-gray-400"," ").concat(y?"animate-pulse":"")})})]})]})]})}},37634:(e,t,r)=>{r.d(t,{A:()=>n,Fb:()=>i,IS:()=>l,zy:()=>o});var a=r(49005);let s=async e=>{let t=await fetch(e);if(!t.ok)throw Error("Failed to fetch data");return t.json()};function i(){let{data:e,error:t,isLoading:r,mutate:i}=(0,a.Ay)("/api/exercises",s);return{exercises:(null==e?void 0:e.exercises)||[],isLoading:r,error:t,mutate:i}}function n(e){let{data:t,error:r,isLoading:i,mutate:n}=(0,a.Ay)(e?"/api/exercises/".concat(e):null,s);return{exercise:null==t?void 0:t.exercise,isLoading:i,error:r,mutate:n}}function l(e){let t=new URLSearchParams;e.searchTerm&&t.append("searchTerm",e.searchTerm),e.category&&t.append("category",e.category),e.difficulties&&e.difficulties.forEach(e=>{t.append("difficulty",e)}),e.equipment&&e.equipment.forEach(e=>{t.append("equipment",e)}),e.muscleGroups&&e.muscleGroups.forEach(e=>{t.append("muscleGroup",e)});let{data:r,error:i,isLoading:n,mutate:l}=(0,a.Ay)(t.toString()?"/api/exercises/search?".concat(t.toString()):null,s);return{exercises:(null==r?void 0:r.exercises)||[],isLoading:n,error:i,mutate:l}}function o(){return{addToFavorites:async(e,t)=>{let r=await fetch("/api/exercises/favorites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,exerciseId:t})});if(!r.ok)throw Error("Failed to add to favorites");return r.json()},removeFromFavorites:async(e,t)=>{let r=await fetch("/api/exercises/favorites?userId=".concat(e,"&exerciseId=").concat(t),{method:"DELETE"});if(!r.ok)throw Error("Failed to remove from favorites");return r.json()}}}},43740:(e,t,r)=>{r.d(t,{XJ:()=>a,sv:()=>s,ur:()=>n,v4:()=>i});let a={STRENGTH:"Strength",CARDIO:"Cardio",FLEXIBILITY:"Flexibility",BALANCE:"Balance"},s={BEGINNER:"Beginner",INTERMEDIATE:"Intermediate",ADVANCED:"Advanced",UNKNOWN:"Unknown"},i={BARBELL:"Barbell",DUMBBELL:"Dumbbell",BODYWEIGHT:"Bodyweight",MACHINE:"Machine",RESISTANCE_BAND:"Resistance Band",KETTLEBELL:"Kettlebell",CABLE:"Cable",BENCH:"Bench",INCLINE_BENCH:"Incline Bench",DECLINE_BENCH:"Decline Bench",PULLUP_BAR:"Pull-up Bar",SQUAT_RACK:"Squat Rack",STEP:"Step"},n={CHEST:"Chest",BACK:"Back",LEGS:"Legs",ARMS:"Arms",SHOULDERS:"Shoulders",CORE:"Core",GLUTES:"Glutes",BICEPS:"Biceps",TRICEPS:"Triceps",CARDIO:"Cardio",FULL_BODY:"Full Body",UPPER_CHEST:"Upper Chest",LOWER_CHEST:"Lower Chest",FRONT_DELTS:"Front Delts",OBLIQUES:"Obliques",QUADRICEPS:"Quadriceps",HAMSTRINGS:"Hamstrings"}},58620:(e,t,r)=>{r.d(t,{E:()=>o});var a=r(20906),s=r(90882),i=r(57742);r(33826);var n=r(66208);let l=(0,i.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}}),o=e=>{let{className:t,variant:r,asChild:i=!1,...o}=e,d=i?s.DX:"span";return(0,a.jsx)(d,{"data-slot":"badge",className:(0,n.cn)(l({variant:r}),t),...o})}},64260:(e,t,r)=>{r.d(t,{d:()=>s});var a=r(66368);function s(){let{filters:e,handleFilterChange:t,clearFilters:r,getActiveFilterCount:s}=(0,a.v)();return{filters:e,handleFilterChange:t,clearFilters:r,getActiveFilterCount:s}}},66208:(e,t,r)=>{r.d(t,{cn:()=>i});var a=r(63756),s=r(77564);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},66368:(e,t,r)=>{r.d(t,{g:()=>n,v:()=>l});var a=r(20906),s=r(33826);let i=(0,s.createContext)(void 0),n=e=>{let{children:t}=e,[r,n]=(0,s.useState)(""),[l,o]=(0,s.useState)({difficulties:[],muscleGroups:[],equipment:[]});return(0,a.jsx)(i.Provider,{value:{searchTerm:r,handleSearchChange:e=>{n(e)},clearSearch:()=>{n("")},filters:l,handleFilterChange:(e,t)=>{o(r=>{let a=r[e],s=a.includes(t);return{...r,[e]:s?a.filter(e=>e!==t):[...a,t]}})},clearFilters:()=>{o({difficulties:[],muscleGroups:[],equipment:[]})},getActiveFilterCount:()=>l.difficulties.length+l.muscleGroups.length+l.equipment.length},children:t})};function l(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useExerciseContext must be used within an ExerciseProvider");return e}},70097:(e,t,r)=>{r.d(t,{BT:()=>o,Wu:()=>d,ZB:()=>l,Zp:()=>i,aR:()=>n});var a=r(20906);r(33826);var s=r(66208);let i=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...r})},n=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})},l=e=>{let{className:t,...r}=e;return(0,a.jsx)("h4",{"data-slot":"card-title",className:(0,s.cn)("leading-none",t),...r})},o=e=>{let{className:t,...r}=e;return(0,a.jsx)("p",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground",t),...r})},d=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6 [&:last-child]:pb-6",t),...r})}},76668:(e,t,r)=>{r.d(t,{S:()=>l});var a=r(20906),s=r(63791),i=r(29800);r(33826);var n=r(66208);let l=e=>{let{className:t,...r}=e;return(0,a.jsx)(s.bL,{"data-slot":"checkbox",className:(0,n.cn)("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:(0,a.jsx)(s.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,a.jsx)(i.A,{className:"size-3.5"})})})}},86067:(e,t,r)=>{r.d(t,{J:()=>n});var a=r(20906),s=r(13496);r(33826);var i=r(66208);let n=e=>{let{className:t,...r}=e;return(0,a.jsx)(s.b,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...r})}},92661:(e,t,r)=>{r.d(t,{p:()=>i});var a=r(20906);r(33826);var s=r(66208);let i=e=>{let{className:t,type:r,...i}=e;return(0,a.jsx)("input",{type:r,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...i})}},92848:(e,t,r)=>{r.d(t,{w:()=>n});var a=r(20906),s=r(32026);r(33826);var i=r(66208);let n=e=>{let{className:t,orientation:r="horizontal",decorative:n=!0,...l}=e;return(0,a.jsx)(s.b,{"data-slot":"separator-root",decorative:n,orientation:r,className:(0,i.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...l})}},96196:(e,t,r)=>{r.d(t,{AuthProvider:()=>c,A:()=>u});var a=r(20906),s=r(12488),i=r(33826),n=r(49005),l=r(91670);let o=(0,i.createContext)(void 0),d=async e=>{let t=await fetch(e);if(!t.ok){if(401===t.status)return null;let e=Error("An error occurred while fetching the user.");throw e.info=await t.json(),e.status=t.status,e}return(await t.json()).user||null},c=e=>{let{children:t}=e,r=(0,l.createBrowserClient)("http://127.0.0.1:54321","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0"),c=(0,s.useRouter)(),[u,v]=(0,i.useState)(!1),{data:g,mutate:m}=(0,n.Ay)("/api/auth/user",d,{revalidateOnFocus:!0,shouldRetryOnError:!1,suspense:!0,fallbackData:null}),p=(0,i.useCallback)(async(e,t)=>{"SIGNED_IN"===e||"USER_UPDATED"===e?await m():"SIGNED_OUT"===e&&await m(null,!1)},[m]);(0,i.useEffect)(()=>{let{data:{subscription:e}}=r.auth.onAuthStateChange((e,t)=>{p(e,t)});return()=>{e.unsubscribe()}},[r,p]);let f=async(e,t)=>{if(e&&t){v(!0);try{let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),a=await r.json();if(!r.ok)throw Error(a.error||"Login failed");await m(a.user,!1),c.push("/dashboard")}finally{v(!1)}}},h=async(e,t,r)=>{if(e&&t&&r){v(!0);try{let a=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:r})}),s=await a.json();if(!a.ok)throw Error(s.error||"Sign up failed");await m(s.user,!1),c.push("/dashboard")}finally{v(!1)}}},x=async()=>{v(!0);try{let e=await fetch("/api/auth/logout",{method:"POST"});if(!e.ok){let t=await e.json();throw Error(t.error||"Logout failed")}await m(null,!1),c.push("/")}finally{v(!1)}};return(0,a.jsx)(o.Provider,{value:{isAuthenticated:!!g,isAuthOperationLoading:u,login:f,logout:x,signUp:h,user:g||null,userId:(null==g?void 0:g.id)||null,userRoles:(null==g?void 0:g.userRoles)||[],userGroups:(null==g?void 0:g.userGroups)||[],hasRole:e=>{var t;return(null==g||null==(t=g.userRoles)?void 0:t.includes(e))||!1},hasGroup:e=>{var t;return(null==g||null==(t=g.userGroups)?void 0:t.includes(e))||!1},hasAnyRole:e=>(null==e?void 0:e.some(e=>{var t;return null==g||null==(t=g.userRoles)?void 0:t.includes(e)}))||!1,hasAnyGroup:e=>(null==e?void 0:e.some(e=>{var t;return null==g||null==(t=g.userGroups)?void 0:t.includes(e)}))||!1},children:t})},u=()=>{let e=(0,i.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}}]);